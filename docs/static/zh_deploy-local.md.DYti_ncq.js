import{_ as t,a as l,b as n}from"./chunks/gradio_settings_masker.HVJQteXF.js";import{_ as h,C as e,c as p,o as k,j as i,G as d,aI as r,a as o}from"./chunks/framework.zsPSsrbh.js";const B=JSON.parse('{"title":"本地部署 🔧","description":"","frontmatter":{},"headers":[],"relativePath":"zh/deploy-local.md","filePath":"zh/deploy-local.md","lastUpdated":1758184954000}'),c={name:"zh/deploy-local.md"};function g(F,s,y,E,C,u){const a=e("NolebasePageProperties");return k(),p("div",null,[s[0]||(s[0]=i("h1",{id:"本地部署-🔧",tabindex:"-1"},[o("本地部署 🔧 "),i("a",{class:"header-anchor",href:"#本地部署-🔧","aria-label":'Permalink to "本地部署 🔧"'},"​")],-1)),d(a),s[1]||(s[1]=r(`<p>本地部署运行</p><div class="tip custom-block" style="padding-top:8px;"><p>只是想尝试一下？跳到 《<a href="./deploy-colab">远程部署</a>》 章节</p></div><h2 id="配置要求" tabindex="-1">配置要求 <a class="header-anchor" href="#配置要求" aria-label="Permalink to &quot;配置要求&quot;">​</a></h2><ul><li>操作系统： <code>Windows10+</code> 、 <code>Macos11+</code> 、 <code>Debian12+</code> 系统</li><li>支持架构： <code>windows.x86_64</code> 、 <code>linux.x86_64</code> 、 <code>darwin_x86_64</code></li><li>建议最低 CPU <code>4核</code> 或以上，内存 <code>8G</code> 或以上，GPU非必须，支持 <code>cpu</code> 或 <code>cuda</code></li></ul><h2 id="前提条件" tabindex="-1">前提条件 <a class="header-anchor" href="#前提条件" aria-label="Permalink to &quot;前提条件&quot;">​</a></h2><ul><li>请确保你的 <strong>网络</strong> 是正常的，VPN需要打开<code>全局模式</code>或者在设置中 <code>启用网络代理</code></li><li><code>Conda</code> 安装不要使用 <em><strong>中文路径</strong></em>，或 <em><strong>空格路径</strong></em> 避免出现一些无法预料的问题</li></ul><div class="tip custom-block"><p class="custom-block-title">提示</p><ul><li>科学上网，见 《<a href="./justmysocks">JustMySocks</a>》 章节</li><li>虚拟环境，见 《<a href="./preparation#虚拟环境">准备工作</a>》 章节</li></ul></div><h2 id="自动安装" tabindex="-1">自动安装 <a class="header-anchor" href="#自动安装" aria-label="Permalink to &quot;自动安装&quot;">​</a></h2><p>通过集成安装包的形式下载、安装、部署. 还在整理测试中....</p><h2 id="手动安装" tabindex="-1">手动安装 <a class="header-anchor" href="#手动安装" aria-label="Permalink to &quot;手动安装&quot;">​</a></h2><h3 id="_1-克隆下载" tabindex="-1">1. 克隆下载 <a class="header-anchor" href="#_1-克隆下载" aria-label="Permalink to &quot;1. 克隆下载&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/xiesx123/CreatorBox.git</span></span></code></pre></div><h3 id="_2-虚拟环境" tabindex="-1">2. 虚拟环境 <a class="header-anchor" href="#_2-虚拟环境" aria-label="Permalink to &quot;2. 虚拟环境&quot;">​</a></h3><ul><li>创建虚拟环境</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> creatorbox</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.11.11</span></span></code></pre></div><ul><li>激活虚拟环境</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> creatorbox</span></span></code></pre></div><h3 id="_3-安装依赖" tabindex="-1">3. 安装依赖 <a class="header-anchor" href="#_3-安装依赖" aria-label="Permalink to &quot;3. 安装依赖&quot;">​</a></h3><p>可选</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># elevenlabs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cli.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/support/third_party/elevenlabs/requirements.txt</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cosyvoice</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cli.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/support/third_party/cosyvoice/requirements.txt</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># gptsovits</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cli.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/support/third_party/gptsovits/requirements.txt</span></span></code></pre></div><p>必须</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cli.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span></span></code></pre></div><h3 id="_4-启动运行" tabindex="-1">4. 启动运行 <a class="header-anchor" href="#_4-启动运行" aria-label="Permalink to &quot;4. 启动运行&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cli.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p><ul><li><p>安装依赖时 <em><strong>需按顺序执行</strong></em>，先执行<em><strong>可选项</strong></em>，在执行<em><strong>必须项</strong></em></p></li><li><p>如果下载很慢，需要修改镜像源</p></li></ul><p>pip</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install.trusted-host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pypi.tuna.tsinghua.edu.cn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global.index-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://pypi.tuna.tsinghua.edu.cn/simple/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre></div><p>conda</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda-forge</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channels</span></span></code></pre></div></div><div class="danger custom-block"><p class="custom-block-title">注意</p><ul><li>启动报错 <code>RuntimeError: this license key is expired</code>，请尝试强制更新</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cli.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span></span></code></pre></div><ul><li>启动报错 <code>RuntimeError: [WinError 10060]...(1:11076)</code>，请尝试重新启动</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cli.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span></span></code></pre></div><ul><li>Windows 直接双击 <code>start.bat</code> 运行</li></ul></div><h2 id="终端命令" tabindex="-1">终端命令 <a class="header-anchor" href="#终端命令" aria-label="Permalink to &quot;终端命令&quot;">​</a></h2><ul><li>更多命令行工具，见《<a href="./terminal">终端命令</a>》章节</li></ul><h2 id="访问界面" tabindex="-1">访问界面 <a class="header-anchor" href="#访问界面" aria-label="Permalink to &quot;访问界面&quot;">​</a></h2><ul><li>本机访问 <a href="http://127.0.0.1:8000" target="_blank" rel="noreferrer">http://127.0.0.1:8000</a></li><li>内网访问 <a href="http://172.18.0.1:8000" target="_blank" rel="noreferrer">http://172.18.0.1:8000</a> 以实际为准👇</li></ul><div class="language-log vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">log</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">🚀 Starting service... </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">http://0.0.0.0:8000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   _____                _            ______</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  /  __ \\              | |           | ___ \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  | /  \\/_ __ ___  __ _| |_ ___  _ __| |_/ / _____  __</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  | |   | </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;__/ _ \\/ _\` | __/ _ \\| &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">__| ___ \\/ _ \\ \\/ /</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  | \\__/\\ | |  __/ (_| | || (_) | |  | |_/ / (_) &gt;  &lt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   \\____/_|  \\___|\\__,_|\\__\\___/|_|  \\____/ \\___/_/\\_\\   </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">v1.0.21.eadcefb5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">2025-08-23</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 18:51:07.416</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">INFO</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2612</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  main.py</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">127</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - Build on master at </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">2025-08-23</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 18:42:57</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> started run successfully (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">02</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> seconds)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">2025-08-23</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 18:51:08.322</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">INFO</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2612</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  proxy.py</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">91</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - Proxy enabled and verified successfully.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">2025-08-23</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 18:51:10.059</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">INFO</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2612</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  main.py</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">137</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - Running on cpu device using Windows OS located in us.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">2025-08-23</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 18:51:10.060</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">INFO</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2612</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  main.py</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">141</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - Startup </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> job completed.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">2025-08-23</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 18:51:10.060</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">INFO</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2612</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  main.py</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">142</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - Startup </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app completed.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">2025-08-23</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 18:51:10.062</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">INFO</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2612</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  main.py</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">143</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">http://172.18.0.1:8000</span></span></code></pre></div><h2 id="偏好设置" tabindex="-1">偏好设置 <a class="header-anchor" href="#偏好设置" aria-label="Permalink to &quot;偏好设置&quot;">​</a></h2><ul><li>访问 <a href="http://127.0.0.1:8000/settings" target="_blank" rel="noreferrer">http://127.0.0.1:8000/settings</a></li></ul><table><thead><tr><th align="center">基础设置</th><th align="center">草稿设置</th><th align="center">其他设置</th></tr></thead><tbody><tr><td align="center"><img src="`+t+'" width="600" alt="gradio_settings_base"></td><td align="center"><img src="'+l+'" width="600" alt="gradio_settings_capcut"></td><td align="center"><img src="'+n+'" width="600" alt="gradio_settings_masker"></td></tr></tbody></table>',34))])}const m=h(c,[["render",g]]);export{B as __pageData,m as default};
